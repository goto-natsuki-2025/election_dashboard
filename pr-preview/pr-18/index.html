<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <title>選挙集図盤</title>
    <link
      rel="preconnect"
      href="https://fonts.googleapis.com"
    />
    <link
      rel="preconnect"
      href="https://fonts.gstatic.com"
      crossorigin
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/css/base.css" />
  </head>
  <body>
    <header>
      <h1>選挙集図盤</h1>
      <p>
        直近4年間に実施された自治体選挙をもとに、政党別の所属議員数を集計し、
        全国の勢力図と推移を可視化します。
      </p>
    </header>
    <main>
      <section class="summary-grid">
        <article class="summary-item">
          <span>対象自治体</span>
          <strong id="summary-municipalities">-</strong>
          <small>直近4年以内の最新選挙を採用</small>
        </article>
        <article class="summary-item">
          <span>所属議員総数</span>
          <strong id="summary-seats">-</strong>
          <small>上記自治体で当選した議員の合計</small>
        </article>
        <article class="summary-item">
          <span>政党・会派数</span>
          <strong id="summary-parties">-</strong>
          <small>無所属を含む判明している会派数</small>
        </article>
      </section>

      <section class="card">
        <h2>政党別所属議員数（直近4年・最新選挙）</h2>
        <p class="description">
          最新選挙で当選した議員を政党・会派ごとに集計したものです。上位勢力の規模感を俯瞰できます。
        </p>
        <div class="party-metric-grid" id="party-metric-grid" aria-live="polite"></div>
      </section>

      <section class="card">
        <h2>政党別所属議員数の推移</h2>
        <p class="description">
          各自治体の最新選挙日を時系列に並べ、累積議席数の推移を描画しています。
          折れ線は政党ごとの勢力の伸び縮みを示します（上位会派のみ表示）。
        </p>
        <div id="party-trend-chart" class="chart" aria-label="政党別所属議員数の推移"></div>
      </section>
    </main>
    <footer id="data-range-note"></footer>

    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"></script>
    <script type="module" src="assets/js/main.js"></script>
  </body>
</html>




